!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="result",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createElement=function(e,t,n,s){var o=document.createElement(e);if("string"==typeof t)o.classList.add(t);else if(Array.isArray(t))t.forEach(function(e){return!!e&&o.classList.add(e)});else if("object"==(void 0===t?"undefined":i(t)))for(var r in t)o.setAttribute(r,t[r]);if(n)for(var r in n)o.style[r]=n[r];s&&(o.innerText=s);return o},t.fetchSettings=function(e,t,n,i){var s={};for(var o in t)if(void 0===e[o]){var r=i?i.getAttribute("data-"+(n[o]||o)):null,l=+r;""===r||"true"===r?r=!0:"false"===r?r=!1:null===r||isNaN(l)||(r=l),s[o]=null!==r?r:t[o]}else s[o]=e[o];return s},t.getCallBack=function(e){return"string"==typeof e?new Function("e",e):"function"==typeof e?e:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publish=function(e,t,n){var i={};function s(){var t=Math.random();i[t]=function(e,t){return(t=Array.from(t)).unshift(0),new(Function.bind.apply(e,t))}(e,arguments),this.id=t}if(t)for(var o=function(){var e=t[r];Object.defineProperty(s.prototype,e,{configurable:!1,get:function(){return i[this.id][e]},set:function(t){i[this.id][e]=t}})},r=0;r<t.length;r++)o();if(n)for(var l=function(){var e=n[r];s.prototype[e]=function(){var t=i[this.id];t[e].apply(t,arguments)}},r=0;r<n.length;r++)l();return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Box=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0);t.Box=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"create",value:function(e){var t=this;this.source.style.display="none",this.box=(0,s.createElement)("div","inputdecor-"+e),this.button=(0,s.createElement)("button","button"),this.label=(0,s.createElement)("span","label"),this.active&&this.button.classList.add("active"),this.source.after(this.box),this.box.appendChild(this.button),this.button.appendChild(this.label),this.box.appendChild(this.source),this.button.onclick=function(){return t.toggle()}}},{key:"switchOn",value:function(){this.button.classList.add("active"),this.source.checked=!0,this.source.dispatchEvent(new Event("change")),this.active=!0}},{key:"switchOff",value:function(){this.button.classList.remove("active"),this.source.checked=!1,this.source.dispatchEvent(new Event("change")),this.active=!1}},{key:"toggle",value:function(){this.active?this.switchOff():this.switchOn()}},{key:"value",get:function(){return this.source.value}},{key:"checked",get:function(){return this.active}}]),e}()},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4);var o={},r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ids=[],"string"==typeof t){for(var i=document.querySelectorAll(t),r=0;r<i.length;r++){var l=i[r],a=l.getAttribute("id")||Math.random(),c=(0,s.decorate)(l,n);o[a]=c,this.ids.push(a)}if(1==i.length)return o[this.ids[0]]}else if(1==t.nodeType){var u=t.getAttribute("id")||Math.random(),h=(0,s.decorate)(t,n);return o[u]=h,this.ids.push(u),o[u]}}return i(e,[{key:"evoke",value:function(e,t){var n=[];return this.ids.forEach(function(i){var s=void 0,r=o[i];r&&"function"==typeof r[e]&&(s=r[e].apply(r,t)),void 0!==s&&n.push(s)}),1==n.length?n[0]:n}},{key:"getById",value:function(e){if(this.ids.includes(e)&&e in o)return o[e]}},{key:"isInputDecor",get:function(){return!0}}]),e}();r.getById=function(e){if(e in o)return o[e]};new r("[data-inputdecor]");window.InputDecor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decorate=function(e,t){var n=e.getAttribute("type")||e.tagName.toLowerCase();if("ul"==n||"select"==n)return new o.Select(e,n,t);if("checkbox"==n)return new i.Checkbox(e,t);if("radio"==n)return new s.Radio(e,t);if("file"==n)return new r.InputFile(e,t)};var i=n(5),s=n(6),o=n(7),r=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var i=n(2),s=n(1);var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.source=e,i.name=n.name||i.source.name,i.active=i.source.checked,i.create("checkbox"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Box),t}();t.Checkbox=(0,s.publish)(o,["name","checked","value"],["switchOn","switchOff","toggle"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Radio=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=n(1);var r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.id=Math.random(),i.source=e,i.remove=n.remove||null!==e.getAttribute("data-remove"),i.init(),i.create("radio"),i.button.onclick=function(){i.remove||i.active?i.remove&&i.toggle():i.switchOn()},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Box),i(t,[{key:"init",value:function(){this.name=this.source.name,this.active=this.source.checked,this._list=document.querySelectorAll("input[type=radio][name='"+this.name+"']"),this.source._inputDecor=this}},{key:"switchOn",value:function(){for(var e=0;e<this._list.length;e++)this._list[e]._inputDecor.switchOff();(function e(t,n,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,n);if(void 0===s){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"switchOn",this).call(this)}}]),t}();t.Radio=(0,o.publish)(r,["name","checked","value"],["switchOn","switchOff","toggle"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=n(8),r=n(9),l=n(1);var a={speed:250,maxHeight:250,rollup:!1,className:"",sindex:0,unselected:"-- not selected --",textEmpty:"Nothing to choose",placeholder:"Select value",search:!1,onChoose:null,onReady:null},c={maxHeight:"max-height",textEmpty:"text-empty",className:"class",onChoose:"on-choose",onReady:"on-ready"},u={textEmpty:"-- not found --",inButton:!1,caseSense:!1,wholeWord:!1,beginWord:!1},h={textEmpty:"search-empty",inButton:"search-inbutton",caseSense:"search-case",wholeWord:"search-whole",beginWord:"search-begin"},p=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.style.display="none",i=(0,s.fetchSettings)(i,a,c,t),this.source=t,this.type=n,this.active=!1,this.value=t.value,this.name=t.name,this.text=i.placeholder,this.speed=i.speed,this.placeholder=i.placeholder,this.unselected=!!i.unselected,this.textEmpty=i.textEmpty,this.onChoose,this.onReady,!0===i.unselected&&(i.unselected=a.unselected),i.search&&(!0===i.search&&(i.search={}),i.search=(0,s.fetchSettings)(i.search,u,h,t)),this._create(i)}return i(e,[{key:"_create",value:function(e){var t=this;this.elements={main:(0,s.createElement)("div",["inputdecor-select",e.className]),buttonCont:(0,s.createElement)("div","button-wrapper"),button:(0,s.createElement)("button","button",null,e.placeholder),label:(0,s.createElement)("button","label"),hidden:(0,s.createElement)("input",{type:"hidden",name:this.name,value:this.value}),listCont:(0,s.createElement)("div","list-wrapper",{position:"absolute",minWidth:"100%",transition:e.speed+"ms",transform:"scaleY(0)",transformOrigin:"100% 0"})},this.list=new o.List(this.source,{type:this.type,unselected:e.unselected,sindex:e.sindex,maxHeight:e.maxHeight,dispEvent:function(e){return t._dispatchEvent(e)},onChoose:function(e){t._update(e),t.close()}}),e.search&&(this.search=new r.Search(this.list,e.search)),this.onChoose=(0,s.getCallBack)(e.onChoose),this.onReady=(0,s.getCallBack)(e.onReady),this._buildElements(e),this._listenEvents(e),this._checkSingleAndEmpty()}},{key:"_dispatchEvent",value:function(e){"function"==typeof this.onChoose&&this.onChoose(e)}},{key:"_buildElements",value:function(e){var t=this,n=this.elements;this.source.after(n.main),this.source.parentNode.removeChild(this.source),n.listCont.appendChild(this.list.element),n.buttonCont.append(n.button,n.label),n.main.append(n.buttonCont,n.listCont),n.main.appendChild(n.hidden),this.search&&(e.search.inButton?(this.search.setValue(this.text),n.buttonCont.prepend(this.search.elements.main),n.buttonCont.removeChild(n.button)):n.listCont.prepend(this.search.elements.main),n.listCont.appendChild(this.search.elements.empty)),e.rollup&&(n.rollup=(0,s.createElement)("button","rollup"),n.listCont.appendChild(n.rollup),n.rollup.onclick=function(e){return t.close()})}},{key:"_listenEvents",value:function(e){var t=this,n=this,i=this.elements,s=function(e){e.preventDefault(),t.toggle()};i.button.onclick=s,i.label.onclick=s,this.search&&e.search.inButton&&(this.search.elements.input.onclick=s),e.onReady&&e.onReady(this),document.body.addEventListener("click",function(e){e.target.closest(".inputdecor-select")||n.close()})}},{key:"find",value:function(e){this.search.find(e)}},{key:"choose",value:function(e){var t=this.list.choose(e);this._dispatchEvent(t),this._update(t),this.close()}},{key:"addOption",value:function(e){this.list.addOption(e),this._checkSingleAndEmpty()}},{key:"removeOption",value:function(e){this.list.removeOption(e),this._checkSingleAndEmpty()}},{key:"removeChilds",value:function(e){this.list.removeChilds(e),this._checkSingleAndEmpty()}},{key:"clearOptions",value:function(){this.list.clearOptions(),this._checkSingleAndEmpty()}},{key:"_checkSingleAndEmpty",value:function(){this.list.length?1==this.list.length?(this.elements.main.classList.add("single"),this.elements.main.classList.remove("empty"),this.search&&this.search.changeInputType(2)):(this.elements.main.classList.remove("empty"),this.elements.main.classList.remove("single"),this.search&&this.search.changeInputType(1)):(this.elements.main.classList.add("empty"),this.search&&this.search.changeInputType(2))}},{key:"_update",value:function(e){var t=e.value,n=e.text;e.length?-1==e.index&&(n=this.placeholder):n=this.textEmpty,this.text=n,this.value=t,this.search&&this.search.setValue(n),this.elements.hidden.value=t,this.elements.button.innerText=n}},{key:"open",value:function(){this.list.length>1&&(this.elements.listCont.style.transform="scaleY(1)",this.elements.button.classList.add("active"),this.elements.label.classList.add("active"),this.active=!0,this.search&&this.search.clear(!0))}},{key:"close",value:function(){this.elements.listCont.style.transform="scaleY(0)",this.elements.button.classList.remove("active"),this.elements.label.classList.remove("active"),this.active=!1,this.search&&(this.search.inButton?this.search.setValue(this.text):this.search.clear())}},{key:"toggle",value:function(){this.active?this.close():this.open()}},{key:"isInputDecor",get:function(){return!0}},{key:"length",get:function(){return this.list.length}},{key:"index",get:function(){return this.list.index}}]),e}();t.Select=(0,l.publish)(p,["length","index","value","isInputDecor"],["find","choose","addOption","removeOption","removeChilds","clearOptions","open","close","toggle"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0);t.List=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element,this.index=t.selectedIndex||n.sindex,this.options=[],this.groups={},this.onChoose=n.onChoose,this.dispEvent=n.dispEvent,this.unselected=n.unselected,"select"==n.type?this._createFromSelect(t,n):"ul"==n.type&&this._createFromUL(t,n),this.choose(this.index),this.element.onclick=function(e){var t=e.target._decorIndex;t||(t=e.target.closest("li")._decorIndex),i.dispEvent(i.choose(t))}}return i(e,[{key:"_createUnselected",value:function(e){var t=(0,s.createElement)("li","unselected",null,e);t._decorIndex=-1,this.unselectedElement=t,this.options.unshift({element:t,value:null,text:e,index:-1}),this.element.prepend(t)}},{key:"_createFromSelect",value:function(e,t){var n=e.options;if(this.element=(0,s.createElement)("ul","list",{maxHeight:t.maxHeight+"px",overflowY:"auto"}),t.unselected&&this._createUnselected(t.unselected),n.length){for(var i=document.createDocumentFragment(),o=0;o<n.length;o++){var r=n[o],l=this._createOption({value:r.value||r.getAttribute("value"),text:r.innerText,html:r.innerHTML,selected:r.getAttribute("selected")||!1,className:r.getAttribute("class"),group:r.getAttribute("data-group"),child:r.getAttribute("data-child")});i.appendChild(l.element)}this.element.appendChild(i)}}},{key:"_createFromUL",value:function(e,t){var n=e.querySelectorAll("li");this.element=e,e.style.display="",e.style.maxHeight=t.maxHeight+"px",e.style.overflowY="auto",e.classList.add("list"),t.unselected&&this._createUnselected(t.unselected);for(var i=0;i<n.length;i++){var s=n[i];this._createOption({element:s,value:s.value||s.getAttribute("value"),text:s.innerText,html:s.innerHTML,selected:null!==s.getAttribute("selected"),className:s.getAttribute("class"),group:s.getAttribute("data-group"),child:s.getAttribute("data-child")})}}},{key:"_createOption",value:function(e){var t=e.element||(0,s.createElement)("li",e.className),n=this.length,i={element:t,value:e.value,text:e.text,index:n};if(t._decorIndex=n,e.group)this.groups[e.group]=i,i.childs=[],i.group=e.group;else if(e.child&&e.child in this.groups){var o=this.groups[e.child];o.childs.push(i),i.parent=o,t.classList.add("child")}return e.html?t.innerHTML=e.html:e.text&&(t.innerText=e.text),e.selected&&(t.classList.add("active"),this.index=n),this.options.push(i),i}},{key:"addOption",value:function(e,t){var n=this,i=this.length;if(Array.isArray(e)){var s=document.createDocumentFragment();e.forEach(function(e){var t=n._createOption(e);s.appendChild(t.element)}),this.element.appendChild(s)}else{var o=this._createOption(e);this.element.appendChild(o.element)}1==this.length?this.choose(0):0==i&&this.choose(this.index)}},{key:"choose",value:function(e){if(!("number"!=typeof++e||e>=this.options.length||e<0)){var t=this.options[e]||{},n={value:t.value,text:t.text,index:t.index,length:this.length};this.index=t.index;for(var i=0;i<this.options.length;i++)this.options[i].element.classList.remove("active");return t.element&&t.element.classList.add("active"),"function"==typeof this.onChoose&&this.onChoose(n),n}}},{key:"removeOption",value:function(e){var t=this.options[e+1];t.childs&&(this.removeChilds(e),delete this.groups[t.group]),this.element.removeChild(t.element),this.options.splice(e+1,1),this._rebuildOptions()}},{key:"removeChilds",value:function(e){var t=this;e++;var n=this.options[e],i=n.index+(this.unselected?2:1);n.childs&&(n.childs.forEach(function(e){t.element.removeChild(e.element),t.options.splice(i,1),e.index==t.index&&(t.index=n.index)}),this._rebuildOptions())}},{key:"clearOptions",value:function(){var e=this.unselected?this.options[0]:null;this.element.innerHTML="",this.options=e?[e]:[],this.groups=[],this.index=-1,this.choose(-1),this.unselectedElement&&this.element.appendChild(this.unselectedElement)}},{key:"_rebuildOptions",value:function(){this.options.forEach(function(e,t){var n=t-1;e.index=n,e.element._decorIndex=n}),this.length?this.index>=this.length?this.choose(this.length-1):this.choose(this.index):this.choose(-1)}},{key:"length",get:function(){return this.options.length+(this.unselected?-1:0)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0);t.Search=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inButton=n.inButton,this.caseSense=n.caseSense,this.wholeWord=n.wholeWord,this.beginWord=n.beginWord,this.options=t.options,this._create(n)}return i(e,[{key:"_create",value:function(e){var t=this;this.elements={main:(0,s.createElement)("div","search"),input:(0,s.createElement)("input",{type:"text",class:"button"}),clear:(0,s.createElement)("button","clear",{display:"none"}),empty:(0,s.createElement)("span","empty",{display:"none"},e.textEmpty)},this.elements.input.oninput=function(e){return t.find(e.target.value)},this.elements.clear.onclick=function(e){e.preventDefault(),t.clear(!0)},this.elements.main.appendChild(this.elements.input),this.elements.main.appendChild(this.elements.clear)}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.elements.input.value=e,this.elements.clear.style.display=e?"":"none",t&&(this.elements.clear.style.display="none",this.elements.input.blur())}},{key:"clear",value:function(e){this.elements.empty.style.display="none",this.elements.clear.style.display="none",e?(this.elements.input.focus(),this.elements.input.value=""):(this.elements.input.value="",this.elements.input.blur()),this.options.forEach(function(e){e.element.style.display=""})}},{key:"find",value:function(e){var t=this._find(this.options,e);return this.elements.empty.style.display=t?"none":"",this.setValue(e,!1),!!t}},{key:"_find",value:function(e,t){var n=this,i=0;return e.forEach(function(e){n._compare(e.text,t)?(i++,e.element.style.display="",e.parent&&(e.parent.element.style.display="")):e.element.style.display="none"}),i}},{key:"_compare",value:function(e,t){if(!t)return!0;if(this.caseSense||(e=e.toUpperCase(),t=t.toUpperCase()),this.wholeWord)return e==t;var n=e.indexOf(t);return this.beginWord?-1!=n&&(0==n||" "==e[n-1]):-1!=n}},{key:"changeInputType",value:function(e){1==e?this.elements.input.type="text":2==e&&(this.elements.input.type="button")}},{key:"value",get:function(){return this.elements.input.value}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputFile=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=n(1);var r={placeholder:"Select the file",unselected:"-- is not selected --",className:null,clear:!0,size:!0,maxCount:3,charSize:12,types:null,fileList:!1,errMaxCount:"Max count of files - ",errTypes:"You can only select files of types - "},l={className:"class",maxCount:"max-count",charSize:"char-size",fileList:"file-list",errMaxCount:"err-maxcount",errTypes:"err-types"},a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,n=(0,s.fetchSettings)(n,r,l,t),this.types=[],this.maxCount=n.maxCount,this.fileList=n.fileList,this.clear=n.clear,this.size=n.size,this.errMaxCount=n.errMaxCount,this.errTypes=n.errTypes,this.charSize=n.charSize,this._create(n)}return i(e,[{key:"_create",value:function(e){var t=this;this.source.style.display="none";var n={wrapper:(0,s.createElement)("div","inputdecor-file"),unselected:(0,s.createElement)("span","unselected",null,e.unselected),list:(0,s.createElement)("div","files-list"),clear:(0,s.createElement)("button","clear",{display:"none"}),button:(0,s.createElement)("button","button",null,e.placeholder)};n.clear.onclick=function(e){e.preventDefault(),t.clearList()},n.button.onclick=function(e){e.preventDefault(),t.source.click()},this.source.after(n.wrapper),n.list.appendChild(n.unselected),n.wrapper.append(n.button,n.list,n.clear,this.source),e.className&&n.wrapper.classList.add(e.className),e.fileList||(n.list.style.display="none"),e.types&&"string"==typeof e.types&&(this.types=e.types.replace(/\s+/g,"").split(","));var i=this;this.source.addEventListener("change",function(e){if(i.source.files){var t=i._getFiles(i.source.files);t?i._showFiles(t):i.clearList()}}),this.elements=n}},{key:"_getFiles",value:function(e){for(var t=[],n=0;n<e.length;n++){if(n>=this.maxCount)return alert(this.errMaxCount+this.maxCount+"!"),!1;var i=e[n].name.split("."),s=i.pop().toLowerCase(),o=i.join(".");if(this.types&&-1==this.types.indexOf(s))return alert(this.errTypes+this.types.join(", ")+"!"),!1;this.charSize&&o.length>this.charSize&&(o=o.substr(0,this.charSize)+"..."),t.push({name:o,size:Math.round(e[n].size/1024),type:s})}return t}},{key:"_showFiles",value:function(e){var t=this._printFiles(e);this.fileList?(this.elements.list.innerHTML="",this.elements.list.appendChild(t)):(this.elements.button.innerHTML="",this.elements.button.appendChild(t),this.elements.button.classList.add("choosen")),this.clear&&(this.elements.clear.style.display="")}},{key:"_printFiles",value:function(e){var t=this,n=document.createDocumentFragment();return e.forEach(function(e){var i=document.createElement("div");i.classList.add("file"),i.innerHTML="<span class='name'>"+e.name+"."+e.type+"</span>",t.size&&(i.innerHTML+="<span class='size'>"+e.size+" kb</span>"),n.appendChild(i)}),n}},{key:"clearList",value:function(){this.source.value="",this.fileList?(this.elements.list.innerHTML="",this.elements.list.appendChild(this.elements.unselected)):this.elements.button.innerHTML="<span>"+this.settings.placeholder+"</span>",this.elements.clear.style.display="none"}}]),e}();t.InputFile=(0,o.publish)(a,null,["clearList"])}]);